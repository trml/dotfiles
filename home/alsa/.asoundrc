pcm.!default
{
	type plug
	slave.pcm "dmixed"
}
ctl.!default
{
	type plug
	slave.pcm "dmixed"
}
pcm.dmixed
{
	type asym
	playback.pcm
	{
		# See plugin:dmix at http://www.alsa-project.org/alsa-doc/alsa-lib/pcm_plugins.html
		type dmix
		ipc_key 1024
		ipc_key_add_uid false
		ipc_perm 0660
		#ipc_key 5678293
		ipc_gid audio
		#rate 48000  # Don't put the rate here! Otherwise it resets the rate & channels
		#set below, as shown by:  cat /proc/asound/card0/pcm0p/sub0/hw_params
		slave
		{
			channels 6
			pcm
			{
				format S16_LE
				rate 48000
				type hw
				card 2
				device 0
				subdevice 0
			}
			# Play with this value, if you get errors "unable to set buffer size" or "underrun occured"
			# 4320 is effective minimum with hda-intel, but flash in firefox needs roughly 5000, otherwise flash may be silent.
			buffer_size 5000
			period_time 0
			#period_size 512
			#periods 2
		}
	}
	capture.pcm
	{
		# Dummy, but present to stop wine from moaning: ALSA lib pcm_asym.c:106:(_snd_pcm_asym_open)
		# capture slave is not defined
		type null
	}
}
